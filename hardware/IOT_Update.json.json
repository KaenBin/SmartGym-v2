{"mode":"python","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</variable><variable id=\"[uStS,*z@E`ekA|Z5p}o\">TEMP</variable><variable id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</variable><variable id=\",,#/U29;W^gF)|6y5(i|\">MOIST1</variable><variable id=\"zty$trW9mX~PEq-N),o.\">fan_signal</variable><variable id=\"@kS_qMHtKo/o!?,%D,A$\">MOIST</variable><variable id=\"ZKsoK3c0?O(1ryVg$-?*\">TEMP1</variable><variable id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</variable><variable id=\"v,^o!v|eE_^haj;x.niR\">max</variable><variable id=\"jo3nwX$fX.ASh901?WWb\">sound_signal</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"287\" y=\"-662\"><statement name=\"ONSTART\"><block type=\"variables_set\" id=\"#T*kWd]4,cF(O~y8RNJ9\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field><value name=\"VALUE\"><block type=\"math_number\" id=\"}Er3$-FmUFio5lm#y$03\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"S0|24Hj/Ag@E$[_zQ4+:\"><field name=\"VAR\" id=\"zty$trW9mX~PEq-N),o.\">fan_signal</field><value name=\"VALUE\"><block type=\"math_number\" id=\"`YN%46FenPYH`$MPu9H/\"><field name=\"NUM\">100</field></block></value><next><block type=\"variables_set\" id=\"y(N#fE+eN6B#YIf94[lT\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"(fP{f_FL3{]AmYYd.bkc\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"x3!IiR(]}Vd]SX08;[LL\"><field name=\"VAR\" id=\"v,^o!v|eE_^haj;x.niR\">max</field><value name=\"VALUE\"><block type=\"math_number\" id=\"#oa`Q[mk-AG#1_w`xpmy\"><field name=\"NUM\">25</field></block></value><next><block type=\"variables_set\" id=\"wgFJev/mt9csbyE^a1@I\"><field name=\"VAR\" id=\"jo3nwX$fX.ASh901?WWb\">sound_signal</field><value name=\"VALUE\"><block type=\"math_number\" id=\"M/[+x{/hdDgD7fno!r6_\"><field name=\"NUM\">1</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"aiot_dht_measure\" id=\"L/1ByVv%x4%!0Yg`J8Ll\"><next><block type=\"yolobit_events_run\" id=\"4Q=/[Q)C8;x|c~wX5X3e\"></block></next></block></statement></block><block type=\"yolobit_ntp_connect_wifi\" id=\"DuTpdxgHugVUfeQ8{,-Q\" x=\"-212\" y=\"-612\"><value name=\"WIFI\"><shadow type=\"text\" id=\";?*/!4XNZrWE;8X-vjbR\"><field name=\"TEXT\">Tam Thui</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"iF=u1b;Gij4.sdMEhK{M\"><field name=\"TEXT\">21092002</field></shadow></value><next><block type=\"set_time\" id=\"mG6AyQvcsgvaRqc{ssT_\"><field name=\"GMT\">+7</field></block></next></block><block type=\"yolobit_events_timer\" id=\"7!-/S:o37aIIqAoe36$-\" x=\"-237\" y=\"-437\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"2mDp/axk;nEXi_[Vj1z5\"><field name=\"NUM\">3</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"]P9xL37%n4.Qj|2G/xZ:\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"xMkEb2mWIPcj)]`Dh7dc\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"-pgLE+$@rp2cAQy83d/_\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"M#5))XpF=klN*]?|Sasx\"><field name=\"VAR\" id=\"v,^o!v|eE_^haj;x.niR\">max</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"s0IfL;2A3xYRoOOILi,i\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"XN`b=~Rjzi*G(U:Ea|A.\"><field name=\"VAR\" id=\"v,^o!v|eE_^haj;x.niR\">max</field></block></value><next><block type=\"controls_if\" id=\"gUvMa9#@#Gf)tab8]J-4\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"^BY:6tY}PzAjfUR!;`ub\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"FMH{WKE@k!)R+S7}*p.?\"><field name=\"VAR\" id=\"jo3nwX$fX.ASh901?WWb\">sound_signal</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Lht?VflYem2z*|sB,F0o\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_music_play_note\" id=\"Ul#jS/Rp,D%$%$A?-m#9\"><field name=\"DURATION\">1</field><value name=\"PITCH\"><shadow type=\"yolobit_music_note\" id=\"5Z`$tzt:oF~W,I9|cH,P\"><field name=\"PITCH\">8</field></shadow></value><next><block type=\"variables_set\" id=\"83|U5sHwM3Vc@1fWqn2F\"><field name=\"VAR\" id=\"jo3nwX$fX.ASh901?WWb\">sound_signal</field><value name=\"VALUE\"><block type=\"math_number\" id=\"{73P?O@g!]$marlrYm9a\"><field name=\"NUM\">0</field></block></value></block></next></block></statement><next><block type=\"aiot_led_tiny_set_all\" id=\"/eoheeZ;aK|Vq7[|r(nZ\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Q|`SlmIh8X/5c.6AvgF`\"><field name=\"COLOUR\">#ff0000</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"$K8A!vasm98Gm8n_:+%B\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"aiot_detect_motion\" id=\"p5.YS#29TfCtBQ=)VI=!\"><field name=\"NAME\">pin0</field></block></value><statement name=\"DO0\"><block type=\"math_change\" id=\"+J)vA~z8^x]q(^Tt4GoE\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\"#?=ZM3MZ4Wr~;$+01UN^\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"m^dv$cH`Pgk-vz|!uLI1\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"_zk~usAh,eBJl1gCfoC6\"><field name=\"COLOUR\">#0000ff</field></shadow></value><next><block type=\"yolobit_music_play_note\" id=\"Ynwuzowi!e@Hm)d5wUy4\"><field name=\"DURATION\">1</field><value name=\"PITCH\"><shadow type=\"yolobit_music_note\" id=\"^y1vsEsU*#jE2r(.Q}{6\"><field name=\"PITCH\">2</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"8N){*=GVi]byuRN_KY0I\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"q{Z[dV}.f]pz!om:Q7q3\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement></block></statement></block></statement></block><block type=\"yolobit_events_timer\" id=\"8$~@h0V#8vE3#:YV!$F.\" x=\"488\" y=\"-387\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"goU;hM@A6@%gf}M`m@rs\"><field name=\"NUM\">30</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"jcV:2c}G77i[*{KdJ9-n\"><field name=\"VAR\" id=\"[uStS,*z@E`ekA|Z5p}o\">TEMP</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"b{:2[[?r,{1jssu0(FA6\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\"R6a)u}GdbV$!xce?FNgV\"><field name=\"VAR\" id=\"@kS_qMHtKo/o!?,%D,A$\">MOIST</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"[mrfdR.kZu^#ctNS3Rs+\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"xbot_serial_write_string\" id=\"XPy4]5usjSTIh3V%UpLz\"><value name=\"string\"><shadow type=\"text\" id=\"M(-v4Jpl#4;-2|c14~Er\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\".I/tteXk]8(GxPF6v0tJ\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"}8o3V?:#Af+[-i2K.#IA\"><field name=\"TEXT\">!1:TEMP:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"|y.0TV]zv5t6Gb1]@_VS\"><field name=\"VAR\" id=\"[uStS,*z@E`ekA|Z5p}o\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"@d%|R^-mRa{O@|{=g-nv\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"*OG6*a8*eh0TZOZnv8Td\"><value name=\"string\"><shadow type=\"text\" id=\"M(-v4Jpl#4;-2|c14~Er\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"$_kBTqnu{IwJbtC-2a+^\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"=^zK}x3ifl_E+E2RMH~r\"><field name=\"TEXT\">!2:MOIST:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"M6/M/;]vOO={XZ0C!Itl\"><field name=\"VAR\" id=\"@kS_qMHtKo/o!?,%D,A$\">MOIST</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"r:ZQ,cy%Ty-FZyYbtC3q\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"aR}Myx2^cfZ%L,j({oA^\"><value name=\"string\"><shadow type=\"text\" id=\"M(-v4Jpl#4;-2|c14~Er\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"Z3Hku7[0bLU_AFnA;MlG\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"g}]7DIBYDqx2`U%e5Q.}\"><field name=\"TEXT\">!3:MOVEMENT:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"8Jq}kP0[_[-7ijQZC#a6\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"]k2o]fVIu-/FWg::ny@|\"><field name=\"TEXT\">#</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"fTOm3oM^fXe~paF@iN7i\" x=\"488\" y=\"38\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"|TOk6tc.Yh|4d}[:CopL\"><field name=\"NUM\">0.2</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"K!w~E2ANhX,;m8NV6Euv\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"ZRR4r,-#^fGeB5-5YbO-\"></block></value><next><block type=\"controls_if\" id=\"*mHtYk/XCoaff@L.9c0Z\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"=X]vvQ*rxyxQH+qqO{QB\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"f5h(PUS=r1*b8V0`C+1H\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"Ff:hnDG2HK9!mr,GyHFh\"><field name=\"TEXT\">A</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"D2=!3bJY6Ydhl4n_z~gG\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"!LL}C.J~l^=UF,h/)?fp\"><field name=\"COLOUR\">#800080</field></shadow></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"It{8NkM,DZ4i6o,GfjnO\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"p4|]dNvkZ/ad]TXJ)d1b\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"A-$wmY!jBdkBZ##L;)dh\"><field name=\"TEXT\">B</field></block></value></block></value><statement name=\"DO1\"><block type=\"aiot_led_tiny_set_all\" id=\"xUXg_`BOq`U4+`*xK5;c\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"l/}@J:pn!Ir/fiFfLLB{\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"9DR9q_qM)[SM?wMmDC3@\"><mutation elseif=\"3\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"XmnTmAskHWW|gZzzM#g]\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Ito/?n?L)srM?~/j5zJH\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"K*frvJ`I!erV9vtIH.0]\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"*AurI)[B;yFGNl^Xk43v\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"%{|J{R)D~;p#DK7Yeo$=\"><field name=\"NUM\">1</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\",$:Fe90+DKx_aclmlgo0\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"mV^nuB]vbXWfm6#U:|[r\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"VEO9w,$(dpU~8#eg$JLh\"><field name=\"TEXT\">2</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"7QRck#;?:*5~CW`,GMIz\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"A,@,KVJI$nF{pn)f-#sY\"><field name=\"NUM\">2</field></block></value></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"R!Z^}g|Z)inH6I,]M;l?\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"gN[a|IaY-HBtDiZR?E(Q\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"e,ngPu;8fz(o|HVWE?u#\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\" id=\"mw{*[=Mk?b^n?fkb2$B3\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"0W,*s$m#47%h9Hlt)gL]\"><field name=\"NUM\">3</field></block></value></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"*)zg$I-W}H-qRFmXF.(e\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"^DlcT^enj9#h9UsG@Eet\"><field name=\"VAR\" id=\"UufSPd`CSZ[xD[Z7{N3)\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"l(7V{_!aG[5v,LOomNaL\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO3\"><block type=\"variables_set\" id=\"ED-#kP$Ov,n%o@L@EUSq\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"I_nSu$,28f++HfElTpJs\"><field name=\"NUM\">0</field></block></value></block></statement></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"!]cLr[j`m{ksP{K,S{q?\" x=\"-312\" y=\"87\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"Qis{)@,(*b[~6:*#Q{10\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"`oP}n-ei2Gy:x2^r0P@t\"><field name=\"VAR\" id=\",,#/U29;W^gF)|6y5(i|\">MOIST1</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"vU84S5{N/]1CV;}WZndG\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"variables_set\" id=\"-,c5rh=Ge%@egad6+dro\"><field name=\"VAR\" id=\"ZKsoK3c0?O(1ryVg$-?*\">TEMP1</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"-f:[z$YvACpUkuS?{wed\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"controls_if\" id=\"-iz}Fo;eY1dSflG1}lt(\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"MRhx+nGj))U-Ay(`g}gS\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"l.)olM|.=#T*Y^DH(IO7\"><field name=\"VAR\" id=\"ZKsoK3c0?O(1ryVg$-?*\">TEMP1</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"zuUf`%${e;w9lnU[i/na\"><field name=\"NUM\">30</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"C19SzII)b?)]9.s[LAe{\"><field name=\"NAME\">pin2</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Xp}ib_l5qwqw8dtkinHS\"><field name=\"NUM\">100</field></shadow><block type=\"variables_get\" id=\"-PC^(=V6mvrza~^Wh8DW\"><field name=\"VAR\" id=\"zty$trW9mX~PEq-N),o.\">fan_signal</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"fy_uw?Sq__lx9.%%J}FJ\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"9wa~p}YN!`lTGa1r`JMa\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"2gC+Ij?F;eu%/C~zy5Dx\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"isIO)2(PIcRF.5e^4*?e\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"!C9aMQZ$xNP`rA~#%uVL\"><field name=\"NAME\">pin2</field><value name=\"percent\"><shadow type=\"math_number\" id=\"K_(feDd*CT}WteA(1F9!\"><field name=\"NUM\">35</field></shadow></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"p(b%N[M{=}O}@IFComCP\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"2oqGF8[!q=2FQSTH+oG(\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"`NVacTQ}FGbIu-#(zlxB\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO1\"><block type=\"aiot_minifan\" id=\"cipTn31$K8vO~|KYzUY?\"><field name=\"NAME\">pin2</field><value name=\"percent\"><shadow type=\"math_number\" id=\"pA(NpmF04}QyCZ0c?9#@\"><field name=\"NUM\">70</field></shadow></value></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"h]fzyJm$rXDw2afT8#;s\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"MICnKT*BKS-QKSPjfJ=)\"><field name=\"VAR\" id=\"01.xXsZt=lF!||x`}}w@\">fan_signal1</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"m5V@`IIIw@f9tTw|x@c^\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO2\"><block type=\"aiot_minifan\" id=\"al@#T~BwyPmvs#74w~Si\"><field name=\"NAME\">pin2</field><value name=\"percent\"><shadow type=\"math_number\" id=\"!WB]S7xw:1r]bEWGmV8v\"><field name=\"NUM\">100</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_minifan\" id=\"sjTFsC^}G/pre]J/HE?P\"><field name=\"NAME\">pin2</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Vc1npl*[mcz0-Ya|{vbS\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement><next><block type=\"aiot_lcd1602_clear\" id=\"+edV`ik@U,zusnT/S:.k\"><next><block type=\"aiot_lcd1602_display\" id=\"Mpy{$.zbgUkJ](l$QYw,\"><value name=\"string\"><shadow type=\"text\" id=\"dZ2mRpy1ubLJppuhb-dG\"><field name=\"TEXT\">T:</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"axG0wj|UXG#pAnbt!:YD\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"G`0.8sXMVt/r-W6D^!FL\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"/4zgp.n?/ho|Dw8Ei|#q\"><value name=\"string\"><shadow type=\"text\" id=\"=MyZ^p=BDW@DI1^M47%}\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"YX7k=SOD%*MgmZ*FO,E!\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"HqQq/PHy)8*|P8PPsYuT\"><field name=\"VAR\" id=\"ZKsoK3c0?O(1ryVg$-?*\">TEMP1</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"P^]oGq!CgQ|G1B%@Z7dc\"><field name=\"TEXT\">*C</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"+BBb#d_4B%{R8(2L|CEU\"><field name=\"NUM\">2</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"[qpO4_ugP$|!x~aZiMFw\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"1mFzCir=$=i9yNH.bP_`\"><value name=\"string\"><shadow type=\"text\" id=\"qv1aGY~=b9{{Q+q;7^Z0\"><field name=\"TEXT\">H:</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"hq[{g%Pqa*rPeI.CsX`.\"><field name=\"NUM\">9</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"aclnDYg-r;)#SJ.G)+!^\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"*VyfVG)AuvT$el4~U,St\"><value name=\"string\"><shadow type=\"text\" id=\"=MyZ^p=BDW@DI1^M47%}\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"xtTS_(fgon|}31AX0:8v\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"m#5A1OxyJRKzzs96aEM)\"><field name=\"VAR\" id=\",,#/U29;W^gF)|6y5(i|\">MOIST1</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"3Bq0!GO.RaQ;dD_H[!pw\"><field name=\"TEXT\">a</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"82puq$zP$G~,q}d1`zs4\"><field name=\"NUM\">11</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"//XgQo!+czw#ZxL-/J*:\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"1.-WX6d1oH*s~x:A|o=6\"><value name=\"string\"><shadow type=\"text\" id=\"g%,Zdnpd?QUjYHbJs}Q`\"><field name=\"TEXT\">NO:</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"o$Cf^;^G9Pe(4{b5Q|%Z\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"]~ytUV;*afa63*={7Fn)\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"X#!/adH*e@+}j8iRT=bl\"><value name=\"string\"><shadow type=\"text\" id=\"=MyZ^p=BDW@DI1^M47%}\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"`x+Wx#AEE#x*6b#=|!Yw\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Eorwq8BK9q~W3viW8CkS\"><field name=\"VAR\" id=\".dJ?W$}Xmgxfre%H|8)R\">number_of_people</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\".T+heUK}8Mb0`e~cfs0B\"><field name=\"TEXT\">/</field></block></value><value name=\"ADD2\"><block type=\"variables_get\" id=\"xtI-]O`Lv:Dcioqg50)=\"><field name=\"VAR\" id=\"v,^o!v|eE_^haj;x.niR\">max</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"F?*e/]Y10_.f+6R}GpqN\"><field name=\"NUM\">5</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"l?JE)J[7!/[9ptn4:BbL\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nfrom event_manager import *\nfrom wifi import __wifi__\nfrom machine import RTC\nimport ntptime\nimport time\nimport music\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_rgbled import RGBLed\nimport sys\nimport uselect\nfrom aiot_lcd1602 import LCD1602\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\nevent_manager.reset()\n\ntiny_rgb = RGBLed(pin1.pin, 4)\n\ndef on_event_timer_callback_S_o_a_I_I():\n  global number_of_people, TEMP, MOIST1, cmd, fan_signal, MOIST, TEMP1, fan_signal1, m_C3_A3, max2, sound_signal\n  if number_of_people >= max2:\n    number_of_people = max2\n    if sound_signal == 1:\n      music.play(['AB3:1'], wait=True)\n      sound_signal = 0\n    tiny_rgb.show(0, hex_to_rgb('#ff0000'))\n  else:\n    if pin0.read_digital()==1:\n      number_of_people = (number_of_people if isinstance(number_of_people, (int, float)) else 0) + 1\n      tiny_rgb.show(0, hex_to_rgb('#0000ff'))\n      music.play(['D3:1'], wait=True)\n    else:\n      tiny_rgb.show(0, hex_to_rgb('#000000'))\n\nevent_manager.add_timer_event(3000, on_event_timer_callback_S_o_a_I_I)\n\ndef on_event_timer_callback_h_V_v_E_Y():\n  global number_of_people, TEMP, MOIST1, cmd, fan_signal, MOIST, TEMP1, fan_signal1, m_C3_A3, max2, sound_signal\n  TEMP = aiot_dht20.dht20_temperature()\n  MOIST = aiot_dht20.dht20_humidity()\n  print((''.join([str(x) for x in ['!1:TEMP:', TEMP, '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!2:MOIST:', MOIST, '#']])), end =' ')\n  print((''.join([str(x3) for x3 in ['!3:MOVEMENT:', number_of_people, '#']])), end =' ')\n\nevent_manager.add_timer_event(30000, on_event_timer_callback_h_V_v_E_Y)\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ndef on_event_timer_callback_f_T_O_m_o():\n  global number_of_people, TEMP, MOIST1, cmd, fan_signal, MOIST, TEMP1, fan_signal1, m_C3_A3, max2, sound_signal\n  cmd = read_terminal_input()\n  if cmd == 'A':\n    tiny_rgb.show(0, hex_to_rgb('#800080'))\n  elif cmd == 'B':\n    tiny_rgb.show(0, hex_to_rgb('#000000'))\n  if cmd == '1':\n    fan_signal1 = 1\n  elif cmd == '2':\n    fan_signal1 = 2\n  elif cmd == '3':\n    fan_signal1 = 3\n  elif cmd == '0':\n    fan_signal1 = 0\n\nevent_manager.add_timer_event(200, on_event_timer_callback_f_T_O_m_o)\n\naiot_lcd1602 = LCD1602()\n\ndef on_event_timer_callback_c_L_r_j_m():\n  global number_of_people, TEMP, MOIST1, cmd, fan_signal, MOIST, TEMP1, fan_signal1, m_C3_A3, max2, sound_signal\n  MOIST1 = aiot_dht20.dht20_humidity()\n  TEMP1 = aiot_dht20.dht20_temperature()\n  if TEMP1 > 30:\n    pin2.write_analog(round(translate(fan_signal, 0, 100, 0, 1023)))\n  else:\n    if fan_signal1 == 1:\n      pin2.write_analog(round(translate(35, 0, 100, 0, 1023)))\n    elif fan_signal1 == 2:\n      pin2.write_analog(round(translate(70, 0, 100, 0, 1023)))\n    elif fan_signal1 == 3:\n      pin2.write_analog(round(translate(100, 0, 100, 0, 1023)))\n    else:\n      pin2.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  aiot_lcd1602.clear()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr('T:')\n  aiot_lcd1602.move_to(2, 0)\n  aiot_lcd1602.putstr((str(TEMP1) + '*C'))\n  aiot_lcd1602.move_to(9, 0)\n  aiot_lcd1602.putstr('H:')\n  aiot_lcd1602.move_to(11, 0)\n  aiot_lcd1602.putstr((str(MOIST1) + 'a'))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr('NO:')\n  aiot_lcd1602.move_to(5, 1)\n  aiot_lcd1602.putstr((''.join([str(x4) for x4 in [number_of_people, '/', max2]])))\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_c_L_r_j_m)\n\nif True:\n  number_of_people = 0\n  fan_signal = 100\n  fan_signal1 = 0\n  max2 = 25\n  sound_signal = 1\n\nwhile True:\n  aiot_dht20.read_dht20()\n  event_manager.run()\n\n\n__wifi__.connect_wifi('Tam Thui', '21092002')\nntptime.settime()\n(year, month, mday, week_of_year, hour, minute, second, milisecond) = RTC().datetime()\nRTC().init((year, month, mday, week_of_year, hour+7, minute, second, milisecond))\n","name":"LatestIOT_Update","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_ntp","src":"https://github.com/AITT-VN/yolobit_ntp","name":"NTP","description":"Mục mở rộng hỗ trợ đọc thời gian từ Internet qua giao thức NTP (Network Time Protocol)"},{"id":"yolobit-AITT-VN-yolobit_ntp","src":"https://github.com/AITT-VN/yolobit_ntp","name":"NTP","description":"Mục mở rộng hỗ trợ đọc thời gian từ Internet qua giao thức NTP (Network Time Protocol)"}],"device":"yolobit"}